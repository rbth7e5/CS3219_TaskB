language: node_js
node_js:
- 14
script: DBUSERNAME=$DBUSERNAME DBPASSWORD=$DBPASSWORD npm run test
dist: trusty
deploy:
  provider: lambda
  region: ap-southeast-1
  access_key_id:
    secure: NJ9u+njaDUSE7RWNSqQpZDFv+cE0wkmZfml/a8LzKtFeusLPS2AjWh5tAHlz9cWv1ob8mvDA13fa0W6/VH4kHE/YOsehJuZS6zT6D3u4fcV4m+KCzL/IVPQGxTZ0jgGdOLFR/Lh7HbS/mKlnADuOmlR/QskjIKSjcdQtn4OHomU0rkSbaGrcjcUf+pK7NZA09aP/t8hH39IQSbwxrjOqXTqCZpPdZKY7lnoaPO8vOgGZaao6hoKO19Zpg5IjSrbw/YIxZ95UkABzB85kwQhiSS5UFL8tlcy0pFHJDlEeUifFDxNottRI3PG26ucqUpfBXFVbnDh/6ZNfExwJflbw+KvZY3Xr1/vY+2zAITwlrLuAcfwPPBIKozHkgGKZutgNVwtyfQCeGyG6wwUmC7YPY7cNIqbYzklchFDk9GPEFOFPFvL9WBaUqgwBbrNNop/uTHUBKeCoRTiHq3ZlOHqDLheRrsBqWJgKR03Vs4rsIZPFu26HU0PolB1PJsBC7FOLYGatjR8JMaxCQOPd5glvZgr32Av5S2gvzDVS5XVEk9+ayhAWC7ygqgfWAeW9fIJ5fFbjzxmWilv+V9NAwhW6PbnfaR6Sv94fuJLibRGR1Gdkddfxn0vhwWGyxwjjOu6AnrzrBzVNPGz3ADe/BVvhecnaVf3r66TYV9ogbPnlIDE=
  secret_access_key:
    secure: ghS1zCklfSeih9nyz3C8dCF2TOKOy34xMERdlRusjSwbLlJDMOXsAaKDBFhWVqA8Ac/goTrZwykGCaoc9xBmTQS0Ddpz8bWs4KETyRjZB7B7vYjc3NX1Z8KwuJD3rSLtKauhJkVdhUaiXOrcDU4FhkhI1w17t6IMTSWm0FKMfBjJs461wp9fAVi35Jng6G0XiG2SmhMhgcv4+V9rCwyuu+NF2Sf32fuwLgEwoIBuW/IDGnemR96eH0I6sl99He3s6UyVFHDGkI0FwFI4Y4c2sgzbt49o9aO/l9calMLpCFirAP+evmNQL0HdndLYhCiCWk3p1IeXIPycANU+HRW6RFp613QfNGMu8yO6gpvFSEtvTXP7NESMkzNKdYFxwz9iTP4wQlODLSFQyFQ+pRz1C1fy7QFpY00HnAWabEx5her7yhMGbJWc/Z/HZ5GLZQARUAg9ZQqf6BPNOrY3Ak2O/LNGieFXhQbFM+Ykq5bJRkZ6W454XPQ3OH86C/NQv8pRgMSbwviucDhjpzzr7hw+qOexfb7ia1tkipXhPIBsbtMiG31zkbgbCfGd/GuvTnN3xhzRu1Qwb9VLGi2pfDFce6wF7PpBHkncasndbfW6tP7eh3YZJ0R982glwp/Cin4A7+hI2/97pUsdPWrD5pACNra5hYz+8LQTkBlUYAJzp/g=
  function_name: taskb-deploy
  role: arn:aws:iam::425563513848:role/travis
  handler_name: handler
  module_name: lambda
  environment:
  - DBUSERNAME: $DBUSERNAME
  - DBPASSWORD: $DBPASSWORD
  edge: true
env:
  global:
  - secure: wZQZPU50pRtJ5kZcil7SI66BXEG5yfvgovPHlc4vPK0ZfndkAHq6UhJtEZP8FwAaBSMXdhOaVXb3yyHBIbRXkYekqYG/b/0eUzFkrTDY/j746YhG0zPaBGT9bisUsTZNPFuGrPR8k1mY4o3I3/aPvKyDMD4BES8BWE74jM3O5AqpYK6dkCnxweC9uAZuZl7ADhduNzcFJ1higeTQgek7cl5UVr9I8isaKVgiQk8Q4Zcz3rjtrx9/k7JxqXtg3zPDVUl3A3kwySKF1EyilvV0HnJ+nUSHa83nASf+qQyE1p3q68cFNi3Zaso7xFGlIQEppICUIN1lzD6kVv6ENyDzrqtc2ukZIlh2e3qX0Gk2JU0Wvr5kMKIwXhH/tNqMWTmcMdPnSwla6JDr4tQo+ptKaRhJsGzpWBv8ZQKNAUnr1qL5GuaiJpB0aBG49WzTGkt30UfPVrNVNlligVhRsgaUhjl4HlETdSgV360wYOR1b30qBMR0OUIhJBLAAGHDgJQTGeEGHBs+4b2TMUHCtqDbzXQVjWVOxnM/XDzudzb9u9WxQzqK93THp1UI2Kb0rT3t+fX+JzDvTZjpH4exs9sAHu3Cd+ocvGAitiumoTBreiSF/sXvoBqJDYCS1w0LLiCHdslAb+yFZvD3bvAaA3KM8lV2BTaq3XPXz9UYFQgeWTs=
  - secure: w1kKfoNjECWQJPU4qvDhg38iMTUZ4xm9Sot2p7zMNiuoCvqaJ1l4rmN59rcXBneYkbOQbfNC7eEPrwW8bsPYB9pCHNmwClpVeEZbXaJVvK0uuxebdHfr+W5qIXiau9wgjwhqWOct6cyxQJXsWMwmCjoL5uoJ0UGNtFlL0kb/dVG8/BulbvOoPrMShyAwiEtv1CblHmB190dDlCEdNgz+A7lXrUH+PceLLwb5cY0P4Fnm0bjVnx46jwkSGt0Pw5b2TzN+Xy7ejp9rN6kdShgaKEawVm6u81XfCUFQwCpCBVENRYMZIsIqyrIMFM121d2E4/0hg6KZudP5X1IaYqBweZoxtaiqPCgZwIBnObpdNTl8votBjHVZ5wO0yiY627RmwXCW4WzBRAUyOdWb4kNSdOb1UIyyNYLdd5EiQUytj25J1wMP6EUE28K5DHvOBt/F8VrgYF675jtUDfMRLEbnOGlyU0tqIkDMXZaox9Yxnok5fJderXzpdiQ2WfPflsN++sfQUrvcBwW7BDD1bipKGHqolmMlvY7fU1Q8eWl8uMgPdjhdnPfLxPOH2BpaAWb6I45MsGRo3CN3VrNUdo8mugFPASwsAFTRrFE7Z3LdzRRkx553RzHJIPpVF5oPPQhCeFaZra/XsB2Zoeq7DNnSF08rVIJn/mDESgiT5hRriXg=
